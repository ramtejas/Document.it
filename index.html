<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CareerTrack MVP - Fixed Version</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; }
        .page { display: none; }
        .page.active { display: block; }
        .hidden { display: none !important; }
        .btn { padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; margin: 5px; }
        .btn:hover { background: #0056b3; }
        .btn--outline { background: transparent; color: #007bff; border: 1px solid #007bff; }
        .btn--outline:hover { background: #007bff; color: white; }
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; }
        .modal-content { background: white; padding: 30px; border-radius: 10px; width: 90%; max-width: 400px; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: bold; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
        .notification { position: fixed; top: 20px; right: 20px; padding: 15px; border-radius: 5px; color: white; z-index: 1000; }
        .notification.success { background: #28a745; }
        .notification.error { background: #dc3545; }
        .stat-card { background: white; padding: 20px; border-radius: 10px; margin: 10px; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .dashboard-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 20px 0; }
        .entry-card { background: white; padding: 20px; border-radius: 10px; margin: 10px 0; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .empty-state { text-align: center; color: #666; font-style: italic; padding: 40px; }
        .hero { text-align: center; padding: 60px 20px; background: linear-gradient(135deg, #007bff, #6f42c1); color: white; border-radius: 10px; margin: 20px 0; }
        .badge { background: #f8f9fa; padding: 15px; border-radius: 10px; text-align: center; margin: 10px; opacity: 0.5; }
        .badge.earned { background: linear-gradient(135deg, #28a745, #20c997); color: white; opacity: 1; }
    </style>
</head>
<body>
    <!-- Notification -->
    <div id="notification" class="notification hidden">
        <span id="notificationText"></span>
    </div>

    <!-- Landing Page -->
    <div id="landingPage" class="page active">
        <div class="container">
            <div class="hero">
                <h1>üöÄ CareerTrack MVP</h1>
                <p>Track your professional growth and celebrate your achievements</p>
                <button class="btn" onclick="showSignup()">Get Started</button>
                <button class="btn btn--outline" onclick="showLogin()">Sign In</button>
            </div>
        </div>
    </div>

    <!-- Authentication Modal -->
    <div id="authModal" class="modal hidden">
        <div class="modal-content">
            <h2 id="authTitle">Sign Up</h2>
            <form id="authForm">
                <div class="form-group">
                    <label for="authEmail">Email</label>
                    <input type="email" id="authEmail" required>
                </div>
                <div class="form-group">
                    <label for="authPassword">Password</label>
                    <input type="password" id="authPassword" required>
                </div>
                <div id="signupFields">
                    <div class="form-group">
                        <label for="authName">Full Name</label>
                        <input type="text" id="authName">
                    </div>
                    <div class="form-group">
                        <label for="authConfirmPassword">Confirm Password</label>
                        <input type="password" id="authConfirmPassword">
                    </div>
                </div>
                <button type="submit" class="btn" style="width: 100%;">
                    <span id="authButtonText">Create Account</span>
                </button>
            </form>
            <div style="text-align: center; margin-top: 15px;">
                <p id="authSwitchText">Already have an account? <a href="#" onclick="toggleAuthMode()">Sign In</a></p>
            </div>
            <button onclick="hideAuth()" style="position: absolute; top: 10px; right: 15px; background: none; border: none; font-size: 20px; cursor: pointer;">&times;</button>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboardPage" class="page hidden">
        <div class="container">
            <h1>Welcome, <span id="userName">User</span>!</h1>

            <div class="dashboard-stats">
                <div class="stat-card">
                    <h3 id="totalEntries">0</h3>
                    <p>Total Entries</p>
                </div>
                <div class="stat-card">
                    <h3 id="currentStreak">0</h3>
                    <p>Week Streak</p>
                </div>
                <div class="stat-card">
                    <h3 id="badgeCount">0</h3>
                    <p>Badges</p>
                </div>
                <div class="stat-card">
                    <h3 id="avgRating">0</h3>
                    <p>Avg Rating</p>
                </div>
            </div>

            <div style="text-align: center; margin: 30px 0;">
                <button class="btn" onclick="showForm()">üìù New Entry</button>
                <button class="btn btn--outline" onclick="showEntries()">üìã View Entries</button>
                <button class="btn btn--outline" onclick="showAnalytics()">üìä Analytics</button>
                <button class="btn btn--outline" onclick="showSettings()">‚öôÔ∏è Settings</button>
                <button class="btn btn--outline" onclick="logout()">üö™ Logout</button>
            </div>

            <div class="entry-card">
                <h2>Recent Entries</h2>
                <div id="recentEntriesList">
                    <p class="empty-state">No entries yet. Create your first weekly entry!</p>
                </div>
            </div>

            <div class="entry-card">
                <h2>Achievement Badges</h2>
                <div id="badgesList" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px;">
                    <!-- Badges will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Form Page -->
    <div id="formPage" class="page hidden">
        <div class="container">
            <h1 id="formTitle">New Weekly Entry</h1>

            <div style="margin: 20px 0;">
                <div style="background: #e9ecef; height: 10px; border-radius: 5px; overflow: hidden;">
                    <div id="formProgress" style="background: #007bff; height: 100%; width: 0%; transition: width 0.3s;"></div>
                </div>
                <span id="progressText">0% Complete</span>
            </div>

            <form id="careerForm" style="background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                <div class="form-group">
                    <label for="weekDate">Week Starting Date *</label>
                    <input type="date" id="weekDate" name="weekDate" required>
                </div>

                <div class="form-group">
                    <label for="projectName">Project or Client Name</label>
                    <input type="text" id="projectName" name="projectName">
                </div>

                <div class="form-group">
                    <label for="responsibilityCategory">Responsibility Category *</label>
                    <select id="responsibilityCategory" name="responsibilityCategory" required>
                        <option value="">Select a category</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="responsibilityDescription">Responsibility Description *</label>
                    <textarea id="responsibilityDescription" name="responsibilityDescription" required rows="4"></textarea>
                </div>

                <div class="form-group">
                    <label>Difficulty Rating *</label>
                    <div id="difficultyStars" style="font-size: 24px; margin: 10px 0;">
                        <span class="star" data-rating="1" style="cursor: pointer; opacity: 0.3;">‚≠ê</span>
                        <span class="star" data-rating="2" style="cursor: pointer; opacity: 0.3;">‚≠ê</span>
                        <span class="star" data-rating="3" style="cursor: pointer; opacity: 0.3;">‚≠ê</span>
                        <span class="star" data-rating="4" style="cursor: pointer; opacity: 0.3;">‚≠ê</span>
                        <span class="star" data-rating="5" style="cursor: pointer; opacity: 0.3;">‚≠ê</span>
                    </div>
                    <span id="difficultyLabel">Not rated</span>
                    <input type="hidden" id="difficultyRating" name="difficultyRating" value="0">
                </div>

                <div class="form-group">
                    <label for="notes">Notes or Reflections *</label>
                    <textarea id="notes" name="notes" required rows="4"></textarea>
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button type="submit" class="btn">Save Entry</button>
                    <button type="button" class="btn btn--outline" onclick="showDashboard()">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Entries Page -->
    <div id="entriesPage" class="page hidden">
        <div class="container">
            <h1>My Career Entries</h1>

            <div style="text-align: center; margin: 20px 0;">
                <button class="btn" onclick="showForm()">+ New Entry</button>
                <button class="btn btn--outline" onclick="exportData()">üì• Export Data</button>
                <button class="btn btn--outline" onclick="showDashboard()">‚Üê Back to Dashboard</button>
            </div>

            <div id="entriesList">
                <!-- Entries will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Analytics Page -->
    <div id="analyticsPage" class="page hidden">
        <div class="container">
            <h1>Career Analytics</h1>

            <div style="text-align: center; margin: 20px 0;">
                <button class="btn btn--outline" onclick="showDashboard()">‚Üê Back to Dashboard</button>
            </div>

            <div class="analytics-grid">
                <!-- Analytics will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Settings Page -->
    <div id="settingsPage" class="page hidden">
        <div class="container">
            <h1>Settings</h1>

            <div style="text-align: center; margin: 20px 0;">
                <button class="btn btn--outline" onclick="showDashboard()">‚Üê Back to Dashboard</button>
            </div>

            <div style="background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                <h2>Profile</h2>
                <div class="form-group">
                    <label for="settingsName">Full Name</label>
                    <input type="text" id="settingsName">
                </div>
                <div class="form-group">
                    <label for="settingsEmail">Email</label>
                    <input type="email" id="settingsEmail" readonly>
                </div>

                <h2 style="margin-top: 30px;">Data Management</h2>
                <button class="btn btn--outline" onclick="exportData()">üì• Export All Data</button>
            </div>
        </div>
    </div>

    <!-- Hidden elements for skills management -->
    <div id="selectedSkills" style="display: none;"></div>
    <div id="skillsDropdown" style="display: none;"></div>

    <script src="app.js"></script>
</body>
</html>